<!doctype html>
<html lang="fr">
<head>
  <style>
    p.ex1 {
      font-size: 100px;
    }   
    h1 {
      font-size: 40px;
    }
    
    
  </style>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  
  
  <title>Titre de la page</title>
  
  <!-- <script src="script.js"></script> -->
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  
  <link rel="stylesheet" href="style/style.css">
  
  <script src="https://docraptor.com/docraptor-1.0.0.js"></script>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.min.js"></script>
  
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
  
  
  
  
  
  <!-- <link href="https://netdna.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"> -->
  
  
  <script type = "text/javascript" async=false>
    function fun() {
      alert (" Reste a faire: \n Tester d'autres comptes  \n detecter la colonne de communication \n mettre js dans Git");
    }
    function about_info() {
      alert (" Reste a faire: \n About Contact \n Register \n Login");
    }
    
  </script> 
  
  
  
</head>
<body onload="onLoadcheckCookie()">
  
  <nav class="navbar navbar-expand-lg navbar-dark nav-bk8 mb-3 ">
    <div class="container-fluid">
      <a href="../index.html" class="navbar-brand mr-3">VisualBudget</a>
      <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <div class="navbar-nav">
          <a href="../index.html" class="nav-item nav-link active">Home</a>
          <a href="../km/Kilometrage.html" class="nav-item nav-link">Services</a>
          <a href="../Feuille2Temps/Feuille2temps.html" class="nav-item nav-link">Feuille de temps</a>
          <a href="../about.html " class="nav-item nav-link" >About</a>
          <a href="../contact.html" class="nav-item nav-link" >Contact</a>
        </div>
        <!--         <div class="navbar-nav ml-auto">
          <a href="#" class="nav-item nav-link" onclick="about_info();">Register</a>
          <a href="#" class="nav-item nav-link" onclick="about_info();">Login</a>
        </div> -->
      </div>
    </div>    
  </nav>
  
  
  
  
  <div class="alert alert-danger alert-dismissible" role="alert" id="cookie_Alert">
    <strong>Activez les Cookie!</strong> Afin d'utiliser cet outil.
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="alert alert-warning alert-dismissible" role="alert" id="km_Alert">
    <strong>Bonjour </strong>Vous n'avez pas encore encod√© des KM.
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  
  <div class="container">
    
    
    <div class="container overflow-hidden">
      <form class="row g-3">
        
        <div class="container overflow-hidden">
          <div class="km-wrapper">

              <h1 class="col-md-4" id="kmDash" style="color:cadetblue; font-size:75px; margin:0;">251266</h1>
              <h1 class="col-md-7" style="color:black; font-size:35px; margin:0;">Km</h1>
  

            <div class="col-md-2">
              <button class="btn btn-light btn-lg col-md-2" type="button" data-toggle="modal" data-target="#columnModal" style="font-size: 26px;">üîß</button>

            </div>
          </div>
        </div>        
        <!-- <div class="btn-group" data-toggle="buttons">           -->
          <!-- <button class="btn btn-info btn-block" type='button' id="manuelInput">Encoder manuellement</button> -->
          
          <!-- <button class="btn btn-primary col  btn-lg" type='button' id="Reco"  onclick="recognition.start()">üé§</button> -->
          
          
          <div class="row">
            <div class="col">
              <button class="btn btn-primary btn-lg btn-block" type="button" id="manuelInput" data-toggle="modal" data-target="#inputkm_modal">Encoder manuellement</button>
            </div>
            <div class="col">
              <button class="btn btn-info btn-lg btn-block" type="submit" onclick="table2pdf();">Imprimer</button>
            </div>
          </div>
          
          
        <!-- </div> -->
        
        
        <!-- Modal -->
        <div class="modal fade" id="inputkm_modal" role="dialog">
          <div class="modal-dialog"> <!-- Added modal-lg for larger modal -->
            
            <!-- Modal content-->
            <div class="modal-content">
              <div class="modal-header"> <!-- Added bg-primary and text-white for header styling -->
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                
              </div>
              <h4 class="modal-title" id="customTitle">Encoder vos Kilom√®tres</h4>
              <div class="modal-body">
                <div class="container-fluid">
                  <div class="row">
                    <div class="col-md-6">
                      <label for="KmDateInput" class="form-label">Date</label>
                      <input class="form-control" type="date" value="2011-08-19" id="KmDateInput">
                    </div>
                    <div class="col-md-6">
                      <label for="KmCityInput" class="form-label">Ville</label>
                      <input class="form-control" type="text" value="Namur" id="KmCityInput">
                    </div>
                  </div>
                  <div class="row mt-3"> <!-- Added margin-top for spacing -->
                    <div class="col-md-6">
                      <label for="KmInput" class="form-label">Kilom√©trage</label>
                      <input type="number" pattern="\d*" class="form-control" id="KmInput" min="1" max="500000" value="9999" required>
                    </div>
                    <div class="col-md-6">
                      <label for="VolInput" class="form-label">Volume</label>
                      <input type="number"  class="form-control" id="VolInput" min="1" max="100" value="40" required>
                    </div>
                  </div>
                  <div class="row mt-3"> <!-- Added margin-top for spacing -->
                    <div class="col-md-6">
                      <label for="PreKmInput" class="form-label">Kilom√©trage pr√©c√©dent</label>
                      <input type="number" pattern="\d*" class="form-control" id="PreKmInput" min="1" max="500000" value="9999" disabled>
                    </div>
                    <div class="col-md-6">
                      <label for="ConsoInput" class="form-label">Consommation l/100Km</label>
                      <input  class="form-control" id="ConsoInput" min="1" max="100" value="30" disabled>
                    </div>
                  </div>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button class="btn btn-primary col-6" type="submit" onclick="saveInputValue();">Enregistrer</button>
                <button class="btn btn-warning col-6" type="submit" onclick="ReplaceInTable();">Mettre √† jour</button>                
              </div>
            </div>
            
          </div>
        </div>
        
      </div>
      
      
      
      <div class="container overflow-hidden" id="cam_container">
        <!-- <button id="stop-camera">Stop Camera</button> -->
        <video id="video" width="320" height="240" autoplay></video>
        <p></p>
        <div class="btn-group col-12" data-toggle="buttons">          
          <button id="click_photo"  type='button' class="btn btn-info col-12 btn-lg">Capturer les inormations du ticket</button>
        </div>
      </div>
      
      <div id="dataurl_container">
        <canvas id="canvas" width="320" height="240"></canvas>
        <div id="dataurl-header">Image Data URL</div>
        <textarea id="dataurl" readonly></textarea>
      </div>
      
      
      
      
      
      <div class="accordion" id="accordionExample">
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingOne">
            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
              Historique
            </button>
          </h2>
          <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <!-- <strong>Voici l'historique:</strong> 	 -->
              <!-- <br> -->
              
              
              
              <!-- Modal -->
              <div class="modal fade" id="columnModal" tabindex="-1" role="dialog" aria-labelledby="columnModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="columnModalLabel">Choisissez les colonnes √† afficher</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="modal-body">
                      <div class="checkbox-wrapper">
                        <label><input type="checkbox" data-column="0" checked> Kilom√®tres</label><br>
                        <label><input type="checkbox" data-column="1" checked> Date</label><br>
                        <label><input type="checkbox" data-column="2" checked> Ville</label><br>
                        <label><input type="checkbox" data-column="3" checked> Volume</label><br>
                        <label><input type="checkbox" data-column="4" checked> Consommation l/100Km</label><br>
                        <label><input type="checkbox" data-column="5" checked> Actions</label><br>
                      </div>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                    </div>
                  </div>
                </div>
              </div>
              
              <table class="table table-bordered" id="tableKm">
                <thead>
                  <tr>
                    <th>Kilom&eacute;tres</th>
                    <th>Date</th>
                    <th>Ville</th>
                    <th>Volume</th>
                    <th>Consommation l/100Km</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody  id="tableKmBody">
                  <tr data-id="1001234" data-date="10-05-2021" data-location="Bruxellessss">
                    <td>100123</td>
                    <td>2021-10-05</td>
                    <td>Bruxelles</td>
                    <td>40 l</td>
                    <td>10</td>
                    <td>
                      <a class="add" title="Add" data-toggle="tooltip"><i class="material-icons">&#xE03B;</i></a>
                      <a class="edit" title="Edit" data-toggle="modal" data-target="#inputkm_modal"><i class="material-icons">&#xE254;</i></a>
                      <!-- <a class="editNew" title="Edit" data-toggle="modal" data-target="#inputkm_modal"><i class="material-icons">&#xE254;</i></a> -->
                      <a class="delete" title="Delete" data-toggle="tooltip"><i class="material-icons">&#xE872;</i></a>
                    </td>
                  </tr>
                  
                  <tr>
                    <td>100124</td>
                    <td>2021-12-15</td>
                    <td>Namur</td>
                    <td>30 l</td>
                    <td>12</td>
                    <td>
                      <a class="add" title="Add" data-toggle="tooltip"><i class="material-icons">&#xE03B;</i></a>
                      <a class="edit" title="Edit" data-toggle="modal" data-target="#inputkm_modal"><i class="material-icons">&#xE254;</i></a>
                      <a class="delete" title="Delete" data-toggle="tooltip"><i class="material-icons">&#xE872;</i></a>
                    </td>
                  </tr>
                  <tr>
                    <td>100125</td>
                    <td>2021-10-21</td>
                    <td>Hasselt</td>
                    <td>34 l</td>
                    <td>15</td>
                    <td>
                      <a class="add" title="Add" data-toggle="tooltip"><i class="material-icons">&#xE03B;</i></a>
                      <a class="edit" title="Edit" data-toggle="modal" data-target="#inputkm_modal"><i class="material-icons">&#xE254;</i></a>
                      <a class="delete" title="Delete" data-toggle="tooltip"><i class="material-icons">&#xE872;</i></a>
                    </td>
                  </tr>      
                </tbody>
              </table>
              
              
              
              
              <div id="collapseOneInner">
                
              </div>
              
            </div>
            
            
            
            <!-- <button type="button" class="btn btn-info">Editer</button> -->
            
          </div>
        </div>      
        <canvas id="myChart" width="400" height="400"></canvas>      
      </div>
    </form>
  </div>
</div>



</body>

<script>
  
  
  
  // Cr√©e une instance de l'objet SpeechRecognition
  const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
  
  
  // Configure la langue (par exemple, le fran√ßais)
  recognition.lang = 'fr-FR';
  
  // √âcoute les √©v√©nements de reconnaissance vocale
  recognition.onresult = (event) => {
    const result = event.results[0][0].transcript;
    const parsedNumber = wordToNumber[result.toLowerCase()]||result;
    //const parsedNumber = parseFloat(result);
    
    tempAlert('üé§ Vous avez dit: <br> '+result + '<br> '+ parsedNumber,2000);
    
    if (!isNaN(parsedNumber)) {
      console.log(`Nombre reconnu : ${parsedNumber}`);
      changerRandomN1mber01(parsedNumber);
      
    } else {
      console.log("Ce n'est pas un nombre valide.");
    }
  };
  
  // Cr√©e un bouton pour d√©marrer la reconnaissance vocale
  const startButton = document.createElement('button');
  startButton.textContent = 'üé§';
  startButton.className = 'gradient2-button';
  startButton.addEventListener('click', () => {
    recognition.start();
  });
  
  // Cr√©e une instance de l'objet SpeechRecognition
  
</script>


<script  type = "text/javascript" async=false>
  
  document.getElementById('KmDateInput').value = new Date().toISOString().substring(0, 10);
  
  // Ajoute le bouton au corps du document
  //document.body.appendChild(startButton);
  //const manuelInputButton = document.getElementById('manuelInput');
  //manuelInputButton.parentNode.insertBefore(startButton, manuelInputButton);
  
  var rows = [{
    name: "John",
    age: 20,
    email: "xx@hotmail.com"
  }, {
    name: "Jack",
    age: 50,
    email: "xxx@hotmail.com"
  }, {
    name: "Son",
    age: 45,
    email: "xxxx@hotmail.com"
  }];
  
  rows.push({
    name: "John",
    age: 20,
    email: "xx@hotmail.com"
  });
  
  var html = "<table border='1|1'>";
    for (var i = 0; i < rows.length; i++) {
      html+="<tr>";
        html+="<td>"+rows[i].name+"</td>";
        html+="<td>"+rows[i].age+"</td>";
        html+="<td>"+rows[i].email+"</td>";
        
        html+="</tr>";
        
      }
      html+="</table>";
      // document.getElementById("collapseOne").innerHTML = html;
      
    </script>
    
    
    <script src="scripts/compteur.js"></script>
    <script src="scripts/AddDelete.js"></script>
    <script src="scripts/camera.js"></script>
    <script src="scripts/ocrad.js"></script>
    <script src="scripts/kmChart.js"></script>
    